{"ast":null,"code":"var _jsxFileName = \"/home/gabriel/Escritorio/Super-hero-App/src/pages/welcome/Welcome.js\";\nimport React, { Component } from 'react';\nimport { NavItem, Form, Col, Button, Container, Row, Card } from 'react-bootstrap';\nimport { MdFavoriteBorder } from \"react-icons/md\";\nimport Spinner from 'react-bootstrap/Spinner';\nimport { Link } from 'react-router-dom'; //import './welcome.css';\n\nimport firebase from '../../firebase';\nimport { ContainerWelcome, PageActions } from './WelcomoStyles';\nimport dark from '../../styles/dark';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n\n    this.mudarPagina = e => {\n      console.log('e:', e);\n      let page1 = this.state.page;\n\n      if (e === 'back') {\n        page1 = page1 - 1;\n      } else {\n        page1 = page1 + 1;\n      }\n\n      ;\n      this.listAllHeroes(page1);\n    };\n\n    this.listAllHeroes = async e => {\n      this.setState({\n        loading: true\n      });\n      let listHeroes = [];\n      let page1 = 1;\n      let total = 1;\n\n      if (e >= 1) {\n        page1 = e;\n        total = page1 * 12;\n      } else {\n        total = 12;\n      }\n\n      console.log('page12:', e);\n      console.log('total', total);\n\n      for (let i = total - 11; i <= total; i++) {\n        const response = await fetch(`https://www.superheroapi.com/api.php/4280760198639854/${i}`);\n        const data = await response.json();\n        listHeroes = [...listHeroes, {\n          id: data.id,\n          name: data.name,\n          powerstats: data.powerstats,\n          biography: data.biography,\n          appearance: data.appearance,\n          work: data.work,\n          connections: data.connections,\n          image: data.image\n        }];\n      }\n\n      this.setState({\n        allHerois: listHeroes,\n        searchText: '',\n        buttonPesquisar: true,\n        page: page1,\n        loading: false\n      });\n      console.log('page:', this.state.page);\n      console.log(listHeroes);\n    };\n\n    this.searchSuperHeroes = async () => {\n      this.setState({\n        loading: true\n      });\n      const response = await fetch(`https://www.superheroapi.com/api.php/4280760198639854/search/${this.state.searchText}`);\n      const data = await response.json();\n      this.setState({\n        begin: 0\n      });\n      console.log(data.results);\n      this.setState({\n        allHerois: data.results,\n        buttonPesquisar: false,\n        page: 1,\n        loading: false\n      });\n    };\n\n    this.addFavoritos = async e => {\n      console.log('e', e);\n\n      try {\n        if (e) {\n          await firebase.addFavorite(e);\n          alert(\"agregado a Favoritos\");\n        }\n      } catch (error) {\n        alert(error.message);\n      }\n    };\n\n    this.state = {\n      allHerois: [],\n      searchText: '',\n      begin: 1,\n      idHeroi: '',\n      favoritos: [],\n      buttonPesquisar: true,\n      color: '',\n      page: 1,\n      teste: '',\n      loading: true\n    };\n    this.listAllHeroes = this.listAllHeroes.bind(this);\n    this.searchSuperHeroes = this.searchSuperHeroes.bind(this);\n    this.addFavoritos = this.addFavoritos.bind(this);\n    this.mudarPagina = this.mudarPagina.bind(this);\n  }\n\n  componentDidMount() {\n    if (!firebase.getCurrent()) {\n      this.props.history.replace('/');\n      return null;\n    }\n\n    firebase.getUserName(info => {\n      localStorage.nome = info.val().nome;\n      this.setState({\n        name: localStorage.nome\n      });\n    });\n\n    if (this.state.begin) {\n      this.listAllHeroes();\n    }\n\n    console.log('favoritos', localStorage.getItem('favoritos'));\n    let themeGet = JSON.parse(localStorage.getItem('tema'));\n\n    if (themeGet === false) {\n      this.setState({\n        color: '#fff'\n      });\n    } else {\n      this.setState({\n        color: '#800404'\n      });\n    }\n  }\n\n  render() {\n    return !this.state.loading ? /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"busca\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: /*#__PURE__*/_jsxDEV(Form.Row, {\n            className: \"align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              sm: 3,\n              className: \"my-1\",\n              style: {\n                paddingTop: '20px',\n                paddingBottom: '20px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"search-bar\",\n                className: \"form-control\",\n                type: \"text\",\n                value: this.state.searchText,\n                onChange: e => this.setState({\n                  searchText: e.target.value\n                }),\n                placeholder: \"busca tu super-heroe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: \"auto\",\n              className: \"my-1\",\n              style: {\n                paddingTop: '20px',\n                paddingBottom: '20px'\n              },\n              children: this.state.buttonPesquisar ? /*#__PURE__*/_jsxDEV(Button, {\n                onClick: this.searchSuperHeroes,\n                style: {\n                  backgroundColor: '#2b2c2d',\n                  borderColor: '#2b2c2d',\n                  boxShadow: 'none'\n                },\n                children: \"Buscar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                onClick: this.listAllHeroes,\n                style: {\n                  backgroundColor: '#2b2c2d',\n                  borderColor: '#2b2c2d',\n                  boxShadow: 'none'\n                },\n                children: \"Limpiar Busqueda\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"principal\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: this.state.allHerois.map(item => /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              style: {\n                width: '18rem',\n                border: 'transparent',\n                background: 'transparent'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                style: {\n                  textAlign: 'center',\n                  marginTop: '.5rem',\n                  color: '#f70606'\n                },\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: `/HeroDetails/${item.id}`,\n                children: /*#__PURE__*/_jsxDEV(Card.Img, {\n                  variant: \"top\",\n                  src: item.image.url,\n                  alt: item.name,\n                  style: {\n                    marginTop: '-0.8rem',\n                    marginBottom: '-1.8rem'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary\",\n                  onClick: e => this.addFavoritos(item.id),\n                  style: {\n                    marginLeft: '-.7rem',\n                    backgroundColor: '#2b2c2d',\n                    borderColor: '#2b2c2d',\n                    boxShadow: 'none'\n                  },\n                  children: \"A\\xF1adir a los favoritos\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }, this), this.state.buttonPesquisar ? /*#__PURE__*/_jsxDEV(PageActions, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => this.mudarPagina('back'),\n          disabled: this.state.page < 2,\n          children: \"P\\xE1gina Anterior\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => this.mudarPagina('next'),\n          children: \"Proxima P\\xE1gina\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }, this) : console.log()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"40px\",\n        width: \"100%\",\n        marginTop: \"30px\",\n        position: 'absolute',\n        left: '50%',\n        top: '50%',\n        transform: 'translate(-50%, -50%)'\n      },\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        role: \"status\",\n        variant: \"danger\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sr-only\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nexport default Welcome;","map":{"version":3,"sources":["/home/gabriel/Escritorio/Super-hero-App/src/pages/welcome/Welcome.js"],"names":["React","Component","NavItem","Form","Col","Button","Container","Row","Card","MdFavoriteBorder","Spinner","Link","firebase","ContainerWelcome","PageActions","dark","Welcome","constructor","props","mudarPagina","e","console","log","page1","state","page","listAllHeroes","setState","loading","listHeroes","total","i","response","fetch","data","json","id","name","powerstats","biography","appearance","work","connections","image","allHerois","searchText","buttonPesquisar","searchSuperHeroes","begin","results","addFavoritos","addFavorite","alert","error","message","idHeroi","favoritos","color","teste","bind","componentDidMount","getCurrent","history","replace","getUserName","info","localStorage","nome","val","getItem","themeGet","JSON","parse","render","paddingTop","paddingBottom","target","value","backgroundColor","borderColor","boxShadow","map","item","width","border","background","textAlign","marginTop","url","marginBottom","marginLeft","display","justifyContent","alignItems","height","position","left","top","transform"],"mappings":"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","sourcesContent":["import React, { Component }from 'react';\nimport { NavItem, Form, Col, Button, Container, Row, Card} from 'react-bootstrap';\nimport { MdFavoriteBorder } from \"react-icons/md\"\nimport Spinner from 'react-bootstrap/Spinner'\nimport {Link} from 'react-router-dom';\n\n//import './welcome.css';\nimport firebase from '../../firebase'\nimport {ContainerWelcome,PageActions} from './WelcomoStyles'\nimport dark from '../../styles/dark'\n\nclass Welcome extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            allHerois: [],\n            searchText:'',\n            begin:1,\n            idHeroi:'',\n            favoritos:[],\n            buttonPesquisar:true,\n            color:'',\n            page:1,\n            teste:'',\n            loading:true,\n            \n        }\n        this.listAllHeroes = this.listAllHeroes.bind(this);\n        this.searchSuperHeroes = this.searchSuperHeroes.bind(this);\n        this.addFavoritos = this.addFavoritos.bind(this);\n        this.mudarPagina = this.mudarPagina.bind(this);\n    }\n\n    componentDidMount(){\n      if(!firebase.getCurrent()){\n        this.props.history.replace('/');\n        return null;\n    }\n\n    firebase.getUserName((info)=>{\n        \n        localStorage.nome = info.val().nome;\n        this.setState({name: localStorage.nome});\n    })\n        if(this.state.begin){\n        this.listAllHeroes();\n        }\n        console.log('favoritos',localStorage.getItem('favoritos'));\n\n        let themeGet = JSON.parse(localStorage.getItem('tema'));\n\n        if(themeGet===false){\n          this.setState({color:'#fff'})\n        } else{\n          this.setState({color:'#800404'})\n        }\n        \n    }\n\n    mudarPagina=(e)=>{\n      console.log('e:',e);\n      let page1 = this.state.page;\n      if(e === 'back'){page1 =  page1 - 1 }else{page1= page1 + 1} ;\n      \n      \n      this.listAllHeroes(page1);\n    }\n\n    listAllHeroes = async(e) => {\n      this.setState({loading:true});\n        let listHeroes = [];\n        let page1=1;\n        let total=1;\n        if(e>=1){\n          page1=e;\n           total = page1*12;\n        }else{total=12}\n        \n       \n        console.log('page12:',e);\n        \n        console.log('total',total);\n        for(let i = total-11; i <= total; i++){\n          const response = await fetch(`https://www.superheroapi.com/api.php/4280760198639854/${i}`);\n          const data = await response.json();\n    \n         listHeroes= [...listHeroes, {\n    \n            id: data.id,\n            name: data.name,\n            powerstats: data.powerstats,\n            biography: data.biography,\n            appearance: data.appearance,\n            work: data.work,\n            connections: data.connections,\n            image:data.image\n          }];\n        }            \n    \n        this.setState({allHerois:listHeroes, searchText:'', buttonPesquisar: true, page:page1, loading:false});\n        console.log('page:',this.state.page);\n        console.log(listHeroes);\n        \n        \n      }\n\n       searchSuperHeroes = async() => {\n        this.setState({loading:true});\n        const response = await fetch(`https://www.superheroapi.com/api.php/4280760198639854/search/${this.state.searchText}`);\n        const data = await response.json();\n        this.setState({begin:0});\n        console.log(data.results);\n        this.setState({allHerois:data.results, buttonPesquisar:false, page:1, loading:false});\n\n        \n      }\n\n       addFavoritos =async(e) => {\n        console.log('e', e);\n        try{\n          if(e){\n           await firebase.addFavorite(e);\n           alert(\"agregado a Favoritos\");\n          }\n        }catch(error){\n          alert(error.message);\n      }\n         \n        }\n         \n        \n        \n        \n\n        \n      \n    \n    \n    \n\n\n    render(){\n\n        return (\n          !this.state.loading ? (\n          <Container >\n            \n            <div className='busca'>\n\n              <Form>\n                <Form.Row className=\"align-items-center\">\n                  <Col sm={3} className=\"my-1\"  style={{ paddingTop:'20px', paddingBottom: '20px' }}>\n                    \n                    <input id=\"search-bar\" className=\"form-control\" type=\"text\" value={this.state.searchText} \n                      onChange={(e) => this.setState({searchText: e.target.value})} placeholder=\"busca tu super-heroe\"/>\n                  </Col>\n                \n                  \n                  <Col xs=\"auto\" className=\"my-1\" style={{ paddingTop:'20px', paddingBottom: '20px' }}>\n                    {this.state.buttonPesquisar ?\n                    <Button onClick={this.searchSuperHeroes}\n                     style={{backgroundColor: '#2b2c2d',borderColor:'#2b2c2d', boxShadow:'none' }}>Buscar</Button>\n                    :\n                    <Button onClick={this.listAllHeroes}\n                    style={{backgroundColor: '#2b2c2d',borderColor:'#2b2c2d', boxShadow:'none' }}>Limpiar Busqueda</Button>\n                    }\n                    \n                  </Col>\n                </Form.Row>\n              </Form>\n              {/*<input type=\"text\" value={this.state.searchText} \n                    onChange={(e) => this.setState({searchText: e.target.value})} placeholder=\"realice una busqueda\"/><br/> \n  \n              <button onClick={this.searchSuperHeroes}>Buscar</button> \n            <button onClick={this.listAllHeroes}>Listar Todos</button> */}\n            </div>\n\n            <div className='principal'>\n              \n              <Row>\n                {this.state.allHerois.map(item =>(\n                  <Col>\n                    <Card style={{ width: '18rem', border:'transparent', background:'transparent' }}>\n                      <Card.Title style={{ textAlign: 'center',marginTop: '.5rem',  color: '#f70606' }}>{item.name}</Card.Title>\n                      <Link to={`/HeroDetails/${item.id}`}>\n                      <Card.Img variant=\"top\" src={item.image.url} alt={item.name}  \n                      style={{marginTop: '-0.8rem', marginBottom: '-1.8rem'}} />\n                      </Link>\n                      \n                      <Card.Body>\n                        \n                        <Button variant=\"primary\" onClick={(e)=> this.addFavoritos(item.id)}\n                        style={{marginLeft: '-.7rem', backgroundColor: '#2b2c2d',borderColor:'#2b2c2d', boxShadow:'none'}}>\n                          Añadir a los favoritos\n                          </Button>\n                      </Card.Body>\n                    </Card>\n                    \n                  </Col>\n        \n              ))}\n              </Row>\n            </div>\n            {this.state.buttonPesquisar ?\n            <PageActions>\n          <button \n          type=\"button\" \n          onClick={()=> this.mudarPagina('back')  }\n          disabled={this.state.page < 2}\n          >\n            Página Anterior\n          </button>\n          \n          <button \n          type=\"button\" \n          onClick={()=> this.mudarPagina('next') }\n          \n          >\n            Proxima Página\n          </button>\n        </PageActions>\n    :console.log()}\n          </Container>\n          ):\n         ( <div\n              style={{\n                      display: \"flex\",\n                      justifyContent: \"center\",\n                      alignItems: \"center\",\n                      height: \"40px\",\n                      width: \"100%\",\n                      marginTop: \"30px\",\n                      position: 'absolute',\n                      left: '50%',\n                      top: '50%',\n                      transform: 'translate(-50%, -50%)',\n                    }}\n            >\n              <Spinner animation=\"border\" role=\"status\" variant='danger'>\n                <span className=\"sr-only\">Loading...</span>\n              </Spinner>\n          </div>\n         )\n        );\n\n    }\n}\n\n\nexport default Welcome;\n"]},"metadata":{},"sourceType":"module"}