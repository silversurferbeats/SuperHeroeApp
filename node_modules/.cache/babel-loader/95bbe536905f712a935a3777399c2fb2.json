{"ast":null,"code":"var _jsxFileName = \"/home/gabriel/Escritorio/Super-hero-App/src/pages/Login/Login.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom'; // withRouter proporciona acceso al historial\n//import firebase from '../../firebase'\n\nimport './login.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies(); // API del login\n\nexport const API_PROTOCOL = 'https';\nexport const API_DOMAIN = '://superheroapi.com/api/';\nexport const API_ACCESS_TOKEN = '4280760198639854';\nexport const API_FULL_DOMAIN = `${API_PROTOCOL}${API_DOMAIN}${API_ACCESS_TOKEN}`;\nexport const API_AUTH_DOMAIN = 'http://challenge-react.alkemy.org/';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      form: {\n        email: '',\n        password: ''\n      }\n    };\n\n    this.handleChange = async e => {\n      await this.setState({\n        form: { ...this.state.form,\n          [e.target.name]: e.target.value\n        }\n      });\n      console.log(this.state.form);\n    };\n\n    this.iniciarSesion = async e => {\n      e.preventDefault();\n      const payload = {\n        email: this.state.form.email,\n        password: this.state.form.password\n      };\n      await axios.post(API_AUTH_DOMAIN, payload).then(response => {\n        return response.data;\n      }).then(response => {\n        console.log('response', response);\n        localStorage.setItem('token', response.token);\n        window.location.href = './menu';\n      }).catch(error => {\n        alert('el usuario no es correcto');\n        console.log(error);\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (cookies.get('username')) {\n      window.location.href = './menu';\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [console.log(\"llegue => Login!\"), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.iniciarSesion,\n        id: \"login\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 42\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          autoComplete: \"off\",\n          autoFocus: true,\n          value: this.state.email,\n          onChange: this.handleChange,\n          placeholder: \"name@example.com\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 45\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          autoComplete: \"off\",\n          value: this.state.password,\n          onChange: this.handleChange,\n          placeholder: \"escribe tu contrase\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Iniciar Sesion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/Register\",\n          children: \"todavia no tienes una cuenta?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/gabriel/Escritorio/Super-hero-App/src/pages/Login/Login.js"],"names":["React","Component","Link","withRouter","axios","cookies","Cookies","API_PROTOCOL","API_DOMAIN","API_ACCESS_TOKEN","API_FULL_DOMAIN","API_AUTH_DOMAIN","Login","state","form","email","password","handleChange","e","setState","target","name","value","console","log","iniciarSesion","preventDefault","payload","post","then","response","data","localStorage","setItem","token","window","location","href","catch","error","alert","componentDidMount","get","render"],"mappings":"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","sourcesContent":["import React, { Component }from 'react';\nimport {Link, withRouter} from 'react-router-dom'; // withRouter proporciona acceso al historial\n//import firebase from '../../firebase'\nimport './login.css'\nimport axios from 'axios';\nconst cookies = new Cookies();\n\n\n// API del login\n\nexport const API_PROTOCOL = 'https';\nexport const API_DOMAIN = '://superheroapi.com/api/';\nexport const API_ACCESS_TOKEN = '4280760198639854';\n\nexport const API_FULL_DOMAIN = `${API_PROTOCOL}${API_DOMAIN}${API_ACCESS_TOKEN}`;\n\nexport const API_AUTH_DOMAIN = 'http://challenge-react.alkemy.org/';\n\n\n\nclass Login extends Component{\n    state={\n        form:{\n            email:'',\n            password:''\n        }\n    }\n\n    handleChange = async e => {\n        await this.setState({\n            form:{\n                ...this.state.form,\n                [e.target.name]: e.target.value\n            }\n        });\n        console.log(this.state.form);\n    }\n\n    iniciarSesion = async(e) =>{\n        e.preventDefault();\n\n        const payload = {email: this.state.form.email, password: this.state.form.password};\n\n        await axios.post (API_AUTH_DOMAIN, payload)\n        .then(response => {\n            return response.data;\n        })\n        .then (response=>{\n            console.log('response', response);\n            localStorage.setItem('token', response.token);\n            window.location.href='./menu';\n        })\n        .catch(error => {\n            alert('el usuario no es correcto');\n            console.log(error);\n        })\n    }\n\n    componentDidMount() {\n        if(cookies.get('username')) {\n            window.location.href='./menu';\n        }\n    }\n\n    render(){\n        return(\n            <div>\n                {console.log(\"llegue => Login!\")}\n                <form onSubmit={this.iniciarSesion} id=\"login\">\n                    <label>Email:</label><br/>\n                    <input \n                        type=\"email\" \n                        autoComplete=\"off\" \n                        autoFocus \n                        value={this.state.email}\n                        onChange={this.handleChange} \n                        placeholder=\"name@example.com\"\n                    /><br/>\n                    <label>Password:</label><br/>\n                    <input \n                        type=\"password\" \n                        autoComplete=\"off\" \n                        value={this.state.password}\n                        onChange={this.handleChange} \n                        placeholder=\"escribe tu contraseña\"\n                    /><br/>\n                    <button type='submit'>Iniciar Sesion</button>\n\n                    <Link to=\"/Register\">todavia no tienes una cuenta?</Link>\n                </form>\n               \n            </div>\n        )\n    }\n}\n\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}