{"ast":null,"code":"var _jsxFileName = \"/home/gabriel/Escritorio/Super-hero-App/src/components/Header/Header.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport Switch from 'react-switch'; // cria o botão para mudar de tema\n\nimport { ThemeContext } from 'styled-components';\nimport './header.css';\nimport { ContainerHeader } from './styles';\nimport File from '../../Marvel.jpg';\nimport firebase from '../../firebase';\nimport GlobalStyleDark from '../../styles/globalDark';\nimport globalDark from '../../styles/globalDark';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: localStorage.nome,\n      tema: this.props.background\n    };\n    this.logout = this.logout.bind(this);\n    this.getTema = this.getTema.bind(this);\n  }\n\n  async componentDidMount() {\n    //comprueba si hay algún usuario que haya iniciado sesión: getCurrent se define en el componente firebase.js\n    if (!firebase.getCurrent()) {\n      this.props.history.replace('/');\n      return null;\n    }\n\n    firebase.getUserName(info => {\n      localStorage.nome = info.val().nome;\n      this.setState({\n        name: localStorage.nome\n      });\n    });\n    let themeGet = JSON.parse(localStorage.getItem('tema'));\n    this.setState({\n      tema: themeGet\n    });\n  }\n\n  getTema() {\n    let themeGet = JSON.parse(localStorage.getItem('tema'));\n    console.log('themeGet: ', themeGet);\n\n    if (themeGet === null || themeGet === 'null') {\n      this.setState({\n        tema: false\n      });\n    } else {\n      if (themeGet) {\n        this.setState({\n          tema: themeGet\n        });\n      } else {\n        this.setState({\n          tema: false\n        });\n      }\n    }\n\n    this.props.alterarTheme();\n  }\n\n  async logout() {\n    await firebase.logout().catch(error => {\n      console.log(error);\n    });\n    localStorage.removeItem(\"nome\");\n    localStorage.removeItem('tema'); //remover nome salvo no localstorage\n\n    this.props.history.replace('/');\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"header\", {\n      id: \"main-header\",\n      children: /*#__PURE__*/_jsxDEV(ContainerHeader, {\n        background: this.props.background,\n        children: firebase.getCurrent() ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-content\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/Favoritos\",\n            children: \"Favoritos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/Welcome\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: File,\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            onClick: () => this.logout(),\n            children: \"salir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            onChange: this.getTema,\n            checked: this.state.tema === false,\n            checkedIcon: false,\n            uncheckedIcon: false,\n            height: 15,\n            width: 40,\n            handleDiameter: 20,\n            offColor: '#f5f5f5',\n            onColor: '#333'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Header);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/gabriel/Escritorio/Super-hero-App/src/components/Header/Header.js"],"names":["React","Component","Link","withRouter","Switch","ThemeContext","ContainerHeader","File","firebase","GlobalStyleDark","globalDark","Header","constructor","props","state","name","localStorage","nome","tema","background","logout","bind","getTema","componentDidMount","getCurrent","history","replace","getUserName","info","val","setState","themeGet","JSON","parse","getItem","console","log","alterarTheme","catch","error","removeItem","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAgC,OAAhC;AACA,SAAQC,IAAR,EAAcC,UAAd,QAA+B,kBAA/B;AACA,OAAOC,MAAP,MAAmB,cAAnB,C,CAAmC;;AACnC,SAAQC,YAAR,QAA2B,mBAA3B;AACA,OAAO,cAAP;AACA,SAAQC,eAAR,QAA8B,UAA9B;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;;;AAIA,MAAMC,MAAN,SAAqBV,SAArB,CAA8B;AAE1BW,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAEC,YAAY,CAACC,IADV;AAETC,MAAAA,IAAI,EAAE,KAAKL,KAAL,CAAWM;AAFR,KAAb;AAMA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAf;AACH;;AAEsB,QAAjBE,iBAAiB,GAAE;AACrB;AACA,QAAG,CAACf,QAAQ,CAACgB,UAAT,EAAJ,EAA0B;AACtB,WAAKX,KAAL,CAAWY,OAAX,CAAmBC,OAAnB,CAA2B,GAA3B;AACA,aAAO,IAAP;AACH;;AAEDlB,IAAAA,QAAQ,CAACmB,WAAT,CAAsBC,IAAD,IAAQ;AAEzBZ,MAAAA,YAAY,CAACC,IAAb,GAAoBW,IAAI,CAACC,GAAL,GAAWZ,IAA/B;AACA,WAAKa,QAAL,CAAc;AAACf,QAAAA,IAAI,EAAEC,YAAY,CAACC;AAApB,OAAd;AACH,KAJD;AAMA,QAAIc,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWjB,YAAY,CAACkB,OAAb,CAAqB,MAArB,CAAX,CAAf;AAGA,SAAKJ,QAAL,CAAc;AAACZ,MAAAA,IAAI,EAAEa;AAAP,KAAd;AAIP;;AAGGT,EAAAA,OAAO,GAAG;AACN,QAAIS,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWjB,YAAY,CAACkB,OAAb,CAAqB,MAArB,CAAX,CAAf;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BL,QAA1B;;AACA,QAAGA,QAAQ,KAAI,IAAZ,IAAmBA,QAAQ,KAAI,MAAlC,EAAyC;AAEzC,WAAKD,QAAL,CAAc;AAACZ,QAAAA,IAAI,EAAC;AAAN,OAAd;AAEC,KAJD,MAIK;AACD,UAAIa,QAAJ,EAAc;AAClB,aAAKD,QAAL,CAAc;AAACZ,UAAAA,IAAI,EAACa;AAAN,SAAd;AACC,OAFG,MAEC;AACD,aAAKD,QAAL,CAAc;AAACZ,UAAAA,IAAI,EAAC;AAAN,SAAd;AACH;AAEA;;AAED,SAAKL,KAAL,CAAWwB,YAAX;AAGH;;AAEW,QAANjB,MAAM,GAAK;AAEb,UAAOZ,QAAQ,CAACY,MAAT,GACNkB,KADM,CACCC,KAAD,IAAS;AACZJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACH,KAHM,CAAP;AAIAvB,IAAAA,YAAY,CAACwB,UAAb,CAAwB,MAAxB;AACAxB,IAAAA,YAAY,CAACwB,UAAb,CAAwB,MAAxB,EAPa,CAOmB;;AAChC,SAAK3B,KAAL,CAAWY,OAAX,CAAmBC,OAAnB,CAA2B,GAA3B;AAEL;;AAGDe,EAAAA,MAAM,GAAE;AAGF,wBAGI;AAAQ,MAAA,EAAE,EAAC,aAAX;AAAA,6BACI,QAAC,eAAD;AAAiB,QAAA,UAAU,EAAE,KAAK5B,KAAL,CAAWM,UAAxC;AAAA,kBACCX,QAAQ,CAACgB,UAAT,kBACD;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA,kCACA,QAAC,IAAD;AAAM,YAAA,EAAE,EAAE,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAIA,QAAC,IAAD;AAAM,YAAA,EAAE,EAAE,UAAV;AAAA,mCACA;AAAK,cAAA,GAAG,EAAEjB,IAAV;AAAgB,cAAA,GAAG,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,kBAJA,eAQA,QAAC,IAAD;AAAM,YAAA,OAAO,EAAE,MAAI,KAAKa,MAAL,EAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARA,eAaA,QAAC,MAAD;AAEJ,YAAA,QAAQ,EAAE,KAAKE,OAFX;AAGJ,YAAA,OAAO,EAAE,KAAKR,KAAL,CAAWI,IAAX,KAAoB,KAHzB;AAIJ,YAAA,WAAW,EAAE,KAJT;AAKJ,YAAA,aAAa,EAAE,KALX;AAMJ,YAAA,MAAM,EAAE,EANJ;AAOJ,YAAA,KAAK,EAAE,EAPH;AAQJ,YAAA,cAAc,EAAE,EARZ;AASJ,YAAA,QAAQ,EAAE,SATN;AAUJ,YAAA,OAAO,EAAE;AAVL;AAAA;AAAA;AAAA;AAAA,kBAbA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADC,gBA8BC;AAAK,UAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA;AA/BF;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAHJ;AA8CH;;AAxHyB;;AA2H9B,oBAAef,UAAU,CAACQ,MAAD,CAAzB","sourcesContent":["import React, { Component }from 'react';\nimport {Link, withRouter} from 'react-router-dom'; \nimport Switch from 'react-switch'; // cria o botão para mudar de tema\nimport {ThemeContext} from 'styled-components';\nimport './header.css'\nimport {ContainerHeader} from './styles';\nimport File from '../../Marvel.jpg';\nimport firebase from '../../firebase';\nimport GlobalStyleDark from '../../styles/globalDark';\nimport globalDark from '../../styles/globalDark';\n\n\n\nclass Header extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            name: localStorage.nome,\n            tema: this.props.background,\n           \n        };\n        \n        this.logout = this.logout.bind(this);\n        this.getTema = this.getTema.bind(this);\n    }\n\n    async componentDidMount(){\n        //comprueba si hay algún usuario que haya iniciado sesión: getCurrent se define en el componente firebase.js\n        if(!firebase.getCurrent()){\n            this.props.history.replace('/');\n            return null;\n        }\n\n        firebase.getUserName((info)=>{\n            \n            localStorage.nome = info.val().nome;\n            this.setState({name: localStorage.nome});\n        })\n\n        let themeGet = JSON.parse(localStorage.getItem('tema'));\n    \n    \n        this.setState({tema: themeGet})\n\n\n    \n}\n\n\n    getTema (){\n        let themeGet = JSON.parse(localStorage.getItem('tema'));\n        console.log('themeGet: ', themeGet);\n        if(themeGet=== null|| themeGet ==='null'){\n        \n        this.setState({tema:false})\n        \n        }else{\n            if (themeGet) {\n        this.setState({tema:themeGet})\n        }else{\n            this.setState({tema:false})\n        }\n\n        }\n\n        this.props.alterarTheme();\n\n\n    }\n\n    async logout ()  {\n       \n        await  firebase.logout()\n        .catch((error)=>{\n            console.log(error);\n        });\n        localStorage.removeItem(\"nome\");\n        localStorage.removeItem('tema');//remover nome salvo no localstorage\n        this.props.history.replace('/');\n       \n  }\n\n \n  render(){\n\n    \n        return(\n\n            \n            <header id=\"main-header\">\n                <ContainerHeader background={this.props.background}>\n                {firebase.getCurrent()?\n                <div className=\"header-content\">\n                <Link to= \"/Favoritos\">\n                    Favoritos\n                </Link> \n                <Link to= \"/Welcome\">\n                <img src={File} alt=\"logo\"/>\n                </Link> \n                \n                <Link onClick={()=>this.logout()}>\n\n                       salir\n                </Link> \n                    \n                <Switch\n            \n            onChange={this.getTema}\n            checked={this.state.tema === false}\n            checkedIcon={false}\n            uncheckedIcon={false}\n            height={15}\n            width={40}\n            handleDiameter={20}\n            offColor={'#f5f5f5'}\n            onColor={'#333'}\n           \n            />\n\n            \n                </div>\n                :(<div className=\"header-content\">\n               \n                \n               \n            \n                </div>)}\n                </ContainerHeader> \n            </header>\n           \n            \n        )\n    }\n}\n\nexport default withRouter(Header);\n\n\n"]},"metadata":{},"sourceType":"module"}