{"ast":null,"code":"var _jsxFileName = \"/home/gabriel/Escritorio/Super-hero-App/src/pages/Favoritos/Favoritos.js\";\nimport React, { Component } from 'react';\nimport { NavItem, Form, Col, Button, Container, Row, Card } from 'react-bootstrap';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { Link } from 'react-router-dom';\nimport './favoritos.css';\nimport firebase from '../../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Favoritos extends Component {\n  constructor(props) {\n    super(props);\n\n    this.listAllHeroes = async e => {\n      this.setState({\n        loading: true\n      });\n      let listHeroes = [];\n      let listfavoritos = [];\n      const uid = firebase.getCurrentId();\n      await firebase.app.ref('usuarios').child(uid).child('Favoritos').once('value', snapshot => {\n        snapshot.forEach(childItem => {\n          listfavoritos = [...listfavoritos, childItem.val()];\n        });\n      });\n      console.log(listfavoritos);\n      let total = listfavoritos.length - 1;\n\n      for (let i = 0; i <= total; i++) {\n        console.log('i', listfavoritos[i]);\n        const response = await fetch(`https://www.superheroapi.com/api.php/5149633008444012/${listfavoritos[i]}`);\n        const data = await response.json();\n        listHeroes = [...listHeroes, {\n          id: data.id,\n          name: data.name,\n          image: data.image\n        }];\n      }\n\n      this.setState({\n        allHerois: listHeroes,\n        begin: 0,\n        favoritos: listfavoritos,\n        loading: false\n      });\n      console.log(this.state.allHerois);\n    };\n\n    this.deleteFavoritos = async e => {\n      console.log('e', e);\n      this.setState({\n        loading: true\n      });\n\n      try {\n        if (e) {\n          await firebase.deleteFavorite(e); // alert(\"Heroi deletado dos favoritos\");\n\n          this.listAllHeroes();\n        }\n      } catch (error) {\n        alert(error.message);\n      }\n    };\n\n    this.state = {\n      allHerois: [1],\n      searchText: '',\n      begin: 1,\n      idHeroi: '',\n      favoritos: [],\n      listHeroes: [],\n      loading: true\n    };\n    this.listAllHeroes = this.listAllHeroes.bind(this);\n    this.deleteFavoritos = this.deleteFavoritos.bind(this);\n  }\n\n  componentDidMount() {\n    if (!firebase.getCurrent()) {\n      this.props.history.replace('/');\n      return null;\n    }\n\n    this.listAllHeroes();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: !this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mainDiv\",\n        children: !this.state.begin && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"listheroi\",\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: this.state.allHerois.map(item => /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                style: {\n                  width: '18rem',\n                  border: 'transparent',\n                  background: 'transparent'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                  style: {\n                    textAlign: 'center',\n                    marginTop: '.5rem',\n                    color: '#f70606'\n                  },\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/HeroDetails/${item.id}`,\n                  children: /*#__PURE__*/_jsxDEV(Card.Img, {\n                    variant: \"top\",\n                    src: item.image.url,\n                    alt: item.name,\n                    style: {\n                      marginTop: '-0.8rem',\n                      marginBottom: '-1.8rem'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"primary\",\n                    onClick: e => this.deleteFavoritos(item.id),\n                    style: {\n                      marginLeft: '-.7rem',\n                      backgroundColor: '#2b2c2d',\n                      borderColor: '#2b2c2d',\n                      boxShadow: 'none'\n                    },\n                    children: \"Excluir Favorito\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          height: \"40px\",\n          width: \"100%\",\n          marginTop: \"30px\",\n          position: 'absolute',\n          left: '50%',\n          top: '50%',\n          transform: 'translate(-50%, -50%)'\n        },\n        children: /*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\",\n          role: \"status\",\n          variant: \"danger\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"sr-only\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default Favoritos;","map":{"version":3,"sources":["/home/gabriel/Escritorio/Super-hero-App/src/pages/Favoritos/Favoritos.js"],"names":["React","Component","NavItem","Form","Col","Button","Container","Row","Card","Spinner","Link","firebase","Favoritos","constructor","props","listAllHeroes","e","setState","loading","listHeroes","listfavoritos","uid","getCurrentId","app","ref","child","once","snapshot","forEach","childItem","val","console","log","total","length","i","response","fetch","data","json","id","name","image","allHerois","begin","favoritos","state","deleteFavoritos","deleteFavorite","error","alert","message","searchText","idHeroi","bind","componentDidMount","getCurrent","history","replace","render","map","item","width","border","background","textAlign","marginTop","color","url","marginBottom","marginLeft","backgroundColor","borderColor","boxShadow","display","justifyContent","alignItems","height","position","left","top","transform"],"mappings":"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","sourcesContent":["import React, { Component }from 'react';\nimport { NavItem, Form, Col, Button, Container, Row, Card} from 'react-bootstrap';\nimport Spinner from 'react-bootstrap/Spinner'\nimport {Link} from 'react-router-dom';\nimport './favoritos.css';\n\nimport firebase from '../../firebase';\n\nclass Favoritos extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            allHerois: [1],\n            searchText:'',\n            begin:1,\n            idHeroi:'',\n            favoritos:[],\n            listHeroes:[],\n            loading: true,\n            \n        }\n        this.listAllHeroes = this.listAllHeroes.bind(this);\n        this.deleteFavoritos=this.deleteFavoritos.bind(this);\n        \n        \n    }\n\n    componentDidMount(){\n      if(!firebase.getCurrent()){\n        this.props.history.replace('/');\n        return null;\n    }\n        \n        this.listAllHeroes();\n        \n        \n    }\n\n    listAllHeroes = async(e) => {\n       \n      this.setState({loading:true});\n        \n        let listHeroes=[];\n        let listfavoritos=[];\n        const uid = firebase.getCurrentId();\n        \n       await firebase.app.ref('usuarios').child(uid).child('Favoritos').once('value',(snapshot)=> {\n         \n          \n          snapshot.forEach((childItem)=> {\n            listfavoritos=[...listfavoritos, childItem.val()]});\n          \n          });\n\n          console.log(listfavoritos);\n          let total = listfavoritos.length-1;\n        \n        \n        for(let i = 0; i <= total; i++){\n            console.log('i',listfavoritos[i]);\n          const response = await fetch(`https://www.superheroapi.com/api.php/5149633008444012/${listfavoritos[i]}`);\n          const data = await response.json();\n    \n         listHeroes= [...listHeroes, {\n    \n            id: data.id,\n            name: data.name,\n           \n            image:data.image\n          }];\n        } \n        \n        \n    \n        this.setState({allHerois:listHeroes, begin:0, favoritos:listfavoritos, loading:false});\n\n        console.log(this.state.allHerois);\n        \n        \n      }\n\n     \n\n      deleteFavoritos = async(e) => {\n        console.log('e', e);\n        this.setState({loading:true});\n        try{\n          if(e){\n           await firebase.deleteFavorite(e);\n          // alert(\"Heroi deletado dos favoritos\");\n           this.listAllHeroes();\n          }\n        }catch(error){\n          alert(error.message);\n      }\n       \n      }\n   \n    render(){\n\n        return (\n          <Container>\n            \n            {!this.state.loading ? (\n              \n        <div className='mainDiv'>\n          {!this.state.begin &&\n          <div className='listheroi'>\n            \n            \n            \n              <Row>\n                {this.state.allHerois.map(item =>(\n                  <Col>\n                    <Card style={{ width: '18rem', border:'transparent', background:'transparent' }}>\n                      <Card.Title style={{ textAlign: 'center',marginTop: '.5rem',  color: '#f70606' }}>{item.name}</Card.Title>\n                      <Link to={`/HeroDetails/${item.id}`}>\n                      <Card.Img variant=\"top\" src={item.image.url} alt={item.name}  \n                      style={{marginTop: '-0.8rem', marginBottom: '-1.8rem'}} />\n                      </Link>\n                      \n                      <Card.Body>\n                        <Button variant=\"primary\" onClick={(e)=>  this.deleteFavoritos(item.id)}\n                        style={{marginLeft: '-.7rem', backgroundColor: '#2b2c2d',borderColor:'#2b2c2d', boxShadow:'none'}}>\n                         Excluir Favorito\n                          </Button>\n                      </Card.Body>\n                    </Card>\n                    \n                  </Col>\n        \n              ))}\n              </Row>\n\n              \n              </div>\n    }\n\n    \n        </div>\n\n        \n        \n           \n             ):\n    ( <div\n         style={{\n                 display: \"flex\",\n                 justifyContent: \"center\",\n                 alignItems: \"center\",\n                 height: \"40px\",\n                 width: \"100%\",\n                 marginTop: \"30px\",\n                 position: 'absolute',\n                 left: '50%',\n                 top: '50%',\n                 transform: 'translate(-50%, -50%)',\n               }}\n       >\n         <Spinner animation=\"border\" role=\"status\" variant='danger'>\n           <span className=\"sr-only\">Loading...</span>\n         </Spinner>\n     </div>\n    )\n   \n      }\n          </Container>\n          \n            \n        \n       \n        );\n\n    }\n}\n\n\nexport default Favoritos;\n"]},"metadata":{},"sourceType":"module"}